{% extends 'base/base.html' %}
{% block title %}Send Email{% endblock %}
{% block extra_head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/send_email.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}
{% block content %}
<div class="email-container">
    <h2><i class="fas fa-envelope"></i> Send Email</h2>
    {% include 'ext/message.html' %}

    {% if not enable_alerts %}
        <div class="alert alert-info">
            <i class="fas fa-info-circle"></i> Alerts are currently disabled.
        </div>
        <form method="POST" enctype="multipart/form-data" style="pointer-events: none; opacity: 0.5;">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div class="form-group">
                <label for="subject">Subject:</label>
                <input type="text" id="subject" name="subject" placeholder="Enter the email subject" required>
            </div>
            <div class="form-group">
                <label for="body">Body:</label>
                <textarea id="body" name="body" rows="6" placeholder="Write your message here" required></textarea>
            </div>
            <div class="form-group">
                <label for="attachment">Attachment:</label>
                <input type="file" id="attachment" name="attachment">
            </div>
            <div class="form-group">
                <label for="recipient">Recipient:</label>
                <select id="recipient" name="recipient" required>
                    <option value="admin">Admin</option>
                    <option value="all_users">All Users</option>
                </select>
            </div>
            <div class="form-group">
                <label for="priority">Priority:</label>
                <select id="priority" name="priority" required>
                    <option value="low">Low</option>
                    <option value="high">High</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-paper-plane"></i> Send Email
            </button>
        </form>
    {% else %}
        <form method="POST" enctype="multipart/form-data">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div class="form-group">
                <label for="subject">Subject:</label>
                <input type="text" id="subject" name="subject" placeholder="Enter the email subject" required>
            </div>
            <div class="form-group">
                <label for="body">Body:</label>
                <textarea id="body" name="body" rows="6" placeholder="Write your message here" required></textarea>
            </div>
            <div class="form-group">
                <label for="attachment">Attachment:</label>
                <input type="file" id="attachment" name="attachment">
            </div>
            <div class="form-group">
                <label for="recipient">Recipient:</label>
                <select id="recipient" name="recipient" required>
                    <option value="admin_users">Admin</option>
                    <option value="all_users">All Users</option>
                </select>
            </div>
            <div class="form-group">
                <label for="priority">Priority:</label>
                <select id="priority" name="priority" required>
                    <option value="low">Low</option>
                    <option value="high">High</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-paper-plane"></i> Send Email
            </button>
        </form>
    {% endif %}
</div>
{% endblock %}
    